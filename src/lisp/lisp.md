在 Lisp 中，**原子操作（Atomic Operations）** 是构建语言最基本结构的操作，类似于汇编语言中的基础指令。这些操作处理的是最小单位 —— **原子（Atom）**，如数字、符号、布尔值等，或操作这些原子组成的数据结构（如列表）的函数。

---

### 📚 Lisp 中的常见原子与原子操作

#### 🧱 原子（Atom）的种类：

* **Symbol**：`x`, `y`, `foo`
* **Number**：`1`, `3.14`
* **String**：`"hello"`
* **Boolean**：`#t` (true), `#f` (false)
* **Nil** / 空表：`nil`

---

## 🔧 Lisp 常用原子操作（Primitive Functions）

### ✅ 类型判断

| 函数        | 说明                 |
| --------- | ------------------ |
| `atom`    | 判断是否是原子（非 cons 对象） |
| `number?` | 是否是数字              |
| `symbol?` | 是否是符号              |
| `null?`   | 是否是空表 `nil`        |

```lisp
(atom 'x)         ; #t
(number? 42)      ; #t
(symbol? 'abc)    ; #t
(null? '())       ; #t
```

---

### ✅ 列表操作

| 函数     | 说明               |
| ------ | ---------------- |
| `cons` | 构造新对（新列表）        |
| `car`  | 获取列表的第一个元素       |
| `cdr`  | 获取列表的尾部（除了第一个元素） |

```lisp
(cons 1 '(2 3))   ; => (1 2 3)
(car '(1 2 3))    ; => 1
(cdr '(1 2 3))    ; => (2 3)
```

---

### ✅ 数值计算

| 函数  | 说明 |
| --- | -- |
| `+` | 加法 |
| `-` | 减法 |
| `*` | 乘法 |
| `/` | 除法 |
| `=` | 等于 |
| `>` | 大于 |
| `<` | 小于 |

```lisp
(+ 1 2)       ; => 3
(= 3 3)       ; => #t
(< 2 5)       ; => #t
```

---

### ✅ 条件控制

| 表达式          | 说明      |
| ------------ | ------- |
| `if`         | 单个条件分支  |
| `cond`       | 多条件分支   |
| `and` / `or` | 逻辑与 / 或 |

```lisp
(if (> 3 2) 'yes 'no)      ; => yes

(cond
  ((< 1 0) 'a)
  ((= 1 1) 'b))            ; => b

(and #t #t)                ; => #t
(or #f #t)                 ; => #t
```

---

### ✅ 绑定与定义

| 函数       | 说明      |
| -------- | ------- |
| `define` | 定义变量或函数 |
| `lambda` | 创建匿名函数  |
| `let`    | 局部作用域绑定 |

```lisp
(define x 10)
(define add (lambda (a b) (+ a b)))
(add 2 3)                  ; => 5

(let ((a 1) (b 2)) (+ a b)) ; => 3
```

---

## 🚀 小结

Lisp 原子操作是实现解释器的基石：

| 分类   | 常用操作                                  |
| ---- | ------------------------------------- |
| 类型判断 | `atom`, `number?`, `symbol?`, `null?` |
| 列表处理 | `cons`, `car`, `cdr`                  |
| 计算比较 | `+`, `-`, `=`, `<`, `>`               |
| 控制流  | `if`, `cond`, `and`, `or`             |
| 作用域  | `define`, `lambda`, `let`             |

XmLisp 类，已经支持：

✅ 原子操作（算术、逻辑、列表、print）

✅ 作用域和函数（define, lambda）

✅ 顺序执行（begin）

✅ 循环（while）

✅ 变量赋值（set!）

✅ JS AST 转换器（保留原样）